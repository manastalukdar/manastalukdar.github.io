import{_ as F,r as b,v as D,N as G,c as y,w as r,V as K,h as Q,al as W,am as X,o as i,i as Y,ak as V,aa as v,a as o,af as Z,j as n,q as M,e as d,t as u,J as j,b as L,d as ee,ag as N,x as te,y as _,g as ae}from"./DEWgsSyj.js";import{_ as se}from"./BFHXg-rG.js";import{_ as re}from"./CpNSfKOy.js";import{u as oe}from"./ImagDVAb.js";import{u as le}from"./BxKzqyYr.js";import{u as ie}from"./C8krUTC0.js";import"./BQY1JlCk.js";import"./C3FH5mkX.js";import"./D1TK1DAS.js";import"./tdVGZSft.js";import"./BMXTT1Ib.js";import"./sZEEaFAO.js";import"./DSFzcC17.js";const ne={key:1},ue={key:2,class:"text-center py-8"},ce={key:3,class:"text-center py-8"},de={key:4,class:"text-center py-8"},pe={class:"series-header mb-8"},me={class:"text-center text-h6 text-medium-emphasis mb-4"},ge={class:"d-flex align-center justify-center gap-4 mb-4"},fe={class:"series-posts"},be="/blog/series/",ve={__name:"[slug]",setup(_e){const m=W(),U=X(),S=oe(),T=le(),g=ie(),h=Q(),x=h.public.baseUrl,t=b(null),p=b(!0),f=b(null),c=b(parseInt(String(m.query.page||"1"))),$=_(()=>t.value?`${t.value.name} - Blog Series`:"Blog Series"),q=_(()=>t.value?t.value.description:"Blog series not found"),A=T.appOwner,H=S.blog.blogItems[0].href,P=_(()=>t.value?[{title:"Home",disabled:!1,href:"/",exact:!0},{title:"Blog",disabled:!1,href:H,exact:!0},{title:"Series",disabled:!1,href:be,exact:!0},{title:t.value.name,disabled:!1,href:`/blog/series/${t.value.urlSlug}`,exact:!0}]:[]),k=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),I=_(()=>!t.value||!g.blogMetadata?[]:g.blogMetadata.filter(e=>e.published&&e.series&&e.series["url-slug"]===t.value.urlSlug).sort((e,s)=>{const l=e.series?.part||0,C=s.series?.part||0;return l-C}));function R(a){c.value=a,w()}function z(a){c.value=1,w()}function w(){const a={};c.value>1&&(a.page=c.value),U.push({path:`/blog/series/${m.params.slug}`,query:a})}D(()=>m.query.page,a=>{c.value=parseInt(String(a||"1"))});const E=async()=>{try{p.value=!0,f.value=null,g.blogMetadata.length<h.public.blogPostCount&&await g.setupBlogMetadata(h.public.baseUrl);const a=await fetch("/blogdata/metadata/series_metadata.json");if(!a.ok)throw new Error("Failed to load series metadata");const s=(await a.json()).find(l=>l["url-slug"]===m.params.slug);s?t.value={name:s.name,urlSlug:s["url-slug"],description:s.description,postCount:s.post_count,firstPublished:s.first_published,lastUpdated:s.last_updated,posts:s.posts.map(l=>({...l,firstPublishedOn:l["first-published-on"],readingTime:l["reading-time"]}))}:t.value=null}catch(a){f.value=a.message,console.error("Error loading series:",a)}finally{p.value=!1}};return G(()=>{E()}),D(t,a=>{if(a){const e=$.value+" | "+S.blog.blogText+" || "+A,s=q.value,l=x+`/blog/series/${a.urlSlug}`,O={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:P.value.map((B,J)=>({"@type":"ListItem",position:J+1,item:{"@id":x+B.href,name:B.title}}))};ae({title:e,meta:[{hid:"description",name:"description",content:s},{hid:"apple-mobile-web-app-title",name:"apple-mobile-web-app-title",content:e},{hid:"og-title",name:"og:title",property:"og:title",content:e},{hid:"og-url",name:"og:url",property:"og:url",content:l},{hid:"og-description",name:"og:description",property:"og:description",content:s}],link:[{rel:"canonical",href:l}],__dangerouslyDisableSanitizers:["script"],script:[{innerHTML:JSON.stringify(O),type:"application/ld+json"}]})}}),(a,e)=>{const s=te;return i(),y(K,null,{default:r(()=>[!p.value&&t.value?(i(),y(Y(se),{key:0,breadcrumbs:P.value},null,8,["breadcrumbs"])):V("",!0),!p.value&&t.value?(i(),v("p",ne)):V("",!0),p.value?(i(),v("div",ue,[o(Z,{indeterminate:"",color:"primary",size:"64"}),e[0]||(e[0]=n("p",{class:"mt-4"},"Loading series...",-1))])):f.value?(i(),v("div",ce,[o(M,{type:"error",variant:"outlined",class:"mb-4"},{default:r(()=>[d(u(f.value),1)]),_:1}),o(j,{to:"/blog/series",variant:"outlined",color:"primary"},{default:r(()=>[...e[1]||(e[1]=[d(" Back to Series ",-1)])]),_:1})])):t.value?(i(),y(L,{key:5,class:"text-justify"},{default:r(()=>[o(ee,{cols:"12"},{default:r(()=>[n("div",pe,[o(L,{class:"text-center py-2",justify:"center"},{default:r(()=>[n("h1",null,"Series: "+u(t.value.name),1)]),_:1}),n("p",me,u(t.value.description),1),n("div",ge,[o(N,{color:"primary",variant:"outlined",size:"large"},{default:r(()=>[d(u(t.value.postCount)+" "+u(t.value.postCount===1?"post":"posts"),1)]),_:1}),o(N,{color:"secondary",variant:"outlined",size:"large"},{default:r(()=>[d(u(k(t.value.firstPublished))+" - "+u(k(t.value.lastUpdated)),1)]),_:1})])]),n("div",fe,[e[4]||(e[4]=n("h2",{class:"text-h4 mb-6"},"All Posts in This Series",-1)),o(s,null,{default:r(()=>[o(re,{"posts-list":I.value,"initial-page":c.value,"show-series-info":!0,"show-bookmark":!1,onPageChanged:R,onPerPageChanged:z},null,8,["posts-list","initial-page"])]),_:1})])]),_:1})]),_:1})):(i(),v("div",de,[o(M,{type:"info",variant:"outlined",class:"mb-4"},{default:r(()=>[...e[2]||(e[2]=[d(" Series not found. ",-1)])]),_:1}),o(j,{to:"/blog/series",variant:"outlined",color:"primary"},{default:r(()=>[...e[3]||(e[3]=[d(" Back to Series ",-1)])]),_:1})]))]),_:1})}}},Le=F(ve,[["__scopeId","data-v-d625f0a7"]]);export{Le as default};
