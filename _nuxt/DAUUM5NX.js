import{_ as g,r as v,v as l,O as B,c as _,o as y,w as x,a as i,an as h,ao as T,J as w}from"#entry";import{u as L}from"./D6qzGuKQ.js";import{T as C}from"./BROXZ4Vx.js";const I={__name:"BlogBookmarkButton",props:{post:{type:Object,required:!0,validator:a=>a&&a["url-slug"]&&a.title},size:{type:String,default:"large",validator:a=>["x-small","small","default","large","x-large"].includes(a)},showLabel:{type:Boolean,default:!1},iconOnly:{type:Boolean,default:!0}},emits:["bookmark-added","bookmark-removed","bookmark-toggled"],setup(a,{emit:m}){const o=a,n=m,{isBookmarked:t,toggleBookmark:c,isLoaded:d}=L(),r=v(!1),k=l(()=>t(o.post)?"mdi-bookmark":"mdi-bookmark-outline"),u=l(()=>t(o.post)?"primary":"grey"),p=l(()=>t(o.post)?"Remove bookmark":"Add bookmark"),b=l(()=>d.value?t(o.post)?"Remove from bookmarks":"Add to bookmarks":"Loading..."),f=async s=>{if(s&&(s.stopPropagation(),s.preventDefault()),!(r.value||!o.post)){r.value=!0;try{const e=t(o.post);c(o.post)&&(n(e?"bookmark-removed":"bookmark-added",o.post),n("bookmark-toggled",{post:o.post,isBookmarked:!e,action:e?"removed":"added"}))}catch(e){console.error("Error toggling bookmark:",e)}finally{setTimeout(()=>{r.value=!1},150)}}};return B(()=>{}),(s,e)=>(y(),_(w,{icon:k.value,color:u.value,variant:"text",size:"large",loading:r.value,onClick:T(f,["stop","prevent"]),"aria-label":p.value,class:"bookmark-btn"},{default:x(()=>[i(C,{icon:k.value},null,8,["icon"]),i(h,{activator:"parent",location:"bottom",text:b.value},null,8,["text"])]),_:1},8,["icon","color","loading","aria-label"]))}},M=g(I,[["__scopeId","data-v-3f2bbc2e"]]);export{M as B};
