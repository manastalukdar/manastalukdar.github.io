import{d as y}from"./BMXTT1Ib.js";import{T as h}from"./BQY1JlCk.js";import{_ as K,r as c,v as j,o as i,aa as p,a,w as t,l as W,j as s,at as X,c as f,J as Z,e as g,ak as m,ab as ee,A as le,B as k,C as x,ag as Y,t as v,D as S,m as R,ai as D,aj as T,au as ae,av as te,b as se,d as z,aw as ie,ax as E,ay as oe,az as L,k as ne,y as M}from"./DEWgsSyj.js";import"./sZEEaFAO.js";const ue={class:"search-filters"},re={class:"panel-header"},de={class:"filter-section"},ce={class:"filter-options"},me={class:"filter-label"},ve={key:0,class:"filter-count"},pe={class:"panel-header"},fe={class:"filter-section"},ye={class:"popular-tags"},be={key:0,class:"tag-count"},Ve={class:"panel-header"},he={class:"filter-section"},ge={class:"date-presets mt-3"},Ce={class:"panel-header"},Ye={class:"filter-section"},Fe={class:"filter-label"},ke={key:0,class:"filter-count"},xe={class:"panel-header"},Se={class:"filter-section"},_e={key:0,class:"similarity-threshold mt-3"},De={__name:"SearchFilters",props:{availableCategories:{type:Array,default:()=>[]},availableTags:{type:Array,default:()=>[]},availablePostFormats:{type:Array,default:()=>[]},categoryCounts:{type:Object,default:()=>({})},tagCounts:{type:Object,default:()=>({})},postFormatCounts:{type:Object,default:()=>({})},initialFilters:{type:Object,default:()=>({})}},emits:["update:filters","clear-all"],setup(d,{emit:B}){const u=d,U=B,O=c([]),F=c(""),b=c(u.initialFilters.categories||[]),r=c(u.initialFilters.tags||[]),V=c(u.initialFilters.postFormats||[]),C=c(u.initialFilters.postFormat||""),n=c({start:u.initialFilters.dateStart||"",end:u.initialFilters.dateEnd||""}),_=c(u.initialFilters.useSemanticSearch!==!1),P=c(u.initialFilters.maxResults||10),w=c(u.initialFilters.similarityThreshold||.1),N=M(()=>F.value?u.availableCategories.filter(o=>o.toLowerCase().includes(F.value.toLowerCase())):u.availableCategories),I=M(()=>Object.entries(u.tagCounts).sort(([,o],[,e])=>e-o).slice(0,10).map(([o])=>o)),$=M(()=>b.value.length>0||r.value.length>0||V.value.length>0||C.value||n.value.start||n.value.end),G=M(()=>({categories:b.value,tags:r.value,postFormats:V.value,postFormat:C.value,dateStart:n.value.start,dateEnd:n.value.end,useSemanticSearch:_.value,maxResults:P.value,similarityThreshold:w.value})),J=[{label:"Last 30 days",start:y().subtract(30,"day").format("YYYY-MM-DD"),end:y().format("YYYY-MM-DD")},{label:"Last 3 months",start:y().subtract(3,"month").format("YYYY-MM-DD"),end:y().format("YYYY-MM-DD")},{label:"Last year",start:y().subtract(1,"year").format("YYYY-MM-DD"),end:y().format("YYYY-MM-DD")},{label:"This year",start:y().startOf("year").format("YYYY-MM-DD"),end:y().format("YYYY-MM-DD")}],Q=o=>{const e=r.value.indexOf(o);e>-1?r.value.splice(e,1):r.value.push(o)},q=o=>{n.value.start=o.start,n.value.end=o.end},H=()=>{b.value=[],r.value=[],V.value=[],C.value="",n.value={start:"",end:""},F.value="",U("clear-all")};return j(G,o=>{U("update:filters",o)},{deep:!0}),j(C,o=>{o?V.value=[o]:V.value=[]}),(o,e)=>(i(),p("div",ue,[a(ne,{class:"filters-card",elevation:"1"},{default:t(()=>[a(W,{class:"filters-header"},{default:t(()=>[a(h,{icon:"mdi-filter-variant",class:"filters-icon"}),e[11]||(e[11]=s("span",null,"Search Filters",-1)),a(X),$.value?(i(),f(Z,{key:0,variant:"text",size:"small",color:"error",onClick:H},{default:t(()=>[e[10]||(e[10]=g(" Clear All ",-1)),a(h,{icon:"mdi-close"})]),_:1})):m("",!0)]),_:1}),a(ee,{class:"filters-content"},{default:t(()=>[a(le,{modelValue:O.value,"onUpdate:modelValue":e[9]||(e[9]=l=>O.value=l),variant:"accordion",multiple:"",class:"filter-panels"},{default:t(()=>[a(k,{value:"categories"},{default:t(()=>[a(x,null,{default:t(()=>[s("div",re,[a(h,{icon:"mdi-folder-outline",class:"panel-icon"}),e[12]||(e[12]=s("span",{class:"panel-title"},"Categories",-1)),b.value.length>0?(i(),f(Y,{key:0,size:"small",color:"primary",class:"ml-2"},{default:t(()=>[g(v(b.value.length),1)]),_:1})):m("",!0)])]),_:1}),a(S,null,{default:t(()=>[s("div",de,[a(R,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=l=>F.value=l),label:"Search categories...",variant:"outlined",density:"compact","prepend-inner-icon":null,clearable:"","hide-details":"",class:"mb-3"},null,8,["modelValue"]),s("div",ce,[(i(!0),p(D,null,T(N.value,l=>(i(),f(ae,{key:l,modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=A=>b.value=A),value:l,label:l,density:"compact","hide-details":"",class:"category-checkbox"},{label:t(()=>[s("span",me,v(l),1),d.categoryCounts[l]?(i(),p("span",ve," ("+v(d.categoryCounts[l])+") ",1)):m("",!0)]),_:2},1032,["modelValue","value","label"]))),128))])])]),_:1})]),_:1}),a(k,{value:"tags"},{default:t(()=>[a(x,null,{default:t(()=>[s("div",pe,[a(h,{icon:"mdi-tag-outline",class:"panel-icon"}),e[13]||(e[13]=s("span",{class:"panel-title"},"Tags",-1)),r.value.length>0?(i(),f(Y,{key:0,size:"small",color:"secondary",class:"ml-2"},{default:t(()=>[g(v(r.value.length),1)]),_:1})):m("",!0)])]),_:1}),a(S,null,{default:t(()=>[s("div",fe,[a(te,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=l=>r.value=l),items:d.availableTags,label:"Select tags...",variant:"outlined",density:"compact",multiple:"",chips:"","closable-chips":"",clearable:"","hide-no-data":"","hide-details":"",class:"mb-3"},null,8,["modelValue","items"]),s("div",ye,[e[14]||(e[14]=s("span",{class:"popular-tags-label"},"Popular tags:",-1)),(i(!0),p(D,null,T(I.value,l=>(i(),f(Y,{key:l,size:"small",variant:"outlined",color:r.value.includes(l)?"primary":"default",class:"ma-1",onClick:A=>Q(l)},{default:t(()=>[g(v(l)+" ",1),d.tagCounts[l]?(i(),p("span",be," ("+v(d.tagCounts[l])+") ",1)):m("",!0)]),_:2},1032,["color","onClick"]))),128))])])]),_:1})]),_:1}),a(k,{value:"dateRange"},{default:t(()=>[a(x,null,{default:t(()=>[s("div",Ve,[a(h,{icon:"mdi-calendar-range",class:"panel-icon"}),e[16]||(e[16]=s("span",{class:"panel-title"},"Date Range",-1)),n.value.start||n.value.end?(i(),f(Y,{key:0,size:"small",color:"success",class:"ml-2"},{default:t(()=>[...e[15]||(e[15]=[g(" Active ",-1)])]),_:1})):m("",!0)])]),_:1}),a(S,null,{default:t(()=>[s("div",he,[a(se,null,{default:t(()=>[a(z,{cols:"12",md:"6"},{default:t(()=>[a(R,{modelValue:n.value.start,"onUpdate:modelValue":e[3]||(e[3]=l=>n.value.start=l),label:"Start Date",type:"date",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),a(z,{cols:"12",md:"6"},{default:t(()=>[a(R,{modelValue:n.value.end,"onUpdate:modelValue":e[4]||(e[4]=l=>n.value.end=l),label:"End Date",type:"date",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),s("div",ge,[e[17]||(e[17]=s("span",{class:"date-presets-label"},"Quick filters:",-1)),(i(),p(D,null,T(J,l=>a(Y,{key:l.label,size:"small",variant:"outlined",class:"ma-1",onClick:A=>q(l)},{default:t(()=>[g(v(l.label),1)]),_:2},1032,["onClick"])),64))])])]),_:1})]),_:1}),d.availablePostFormats.length>0?(i(),f(k,{key:0,value:"postFormat"},{default:t(()=>[a(x,null,{default:t(()=>[s("div",Ce,[a(h,{icon:"mdi-file-document-outline",class:"panel-icon"}),e[18]||(e[18]=s("span",{class:"panel-title"},"Post Format",-1)),V.value.length>0?(i(),f(Y,{key:0,size:"small",color:"warning",class:"ml-2"},{default:t(()=>[g(v(V.value.length),1)]),_:1})):m("",!0)])]),_:1}),a(S,null,{default:t(()=>[s("div",Ye,[a(ie,{modelValue:C.value,"onUpdate:modelValue":e[5]||(e[5]=l=>C.value=l),density:"compact","hide-details":""},{default:t(()=>[a(E,{value:"",label:"All formats",color:"primary"}),(i(!0),p(D,null,T(d.availablePostFormats,l=>(i(),f(E,{key:l,value:l,label:l,color:"primary"},{label:t(()=>[s("span",Fe,v(l),1),d.postFormatCounts[l]?(i(),p("span",ke," ("+v(d.postFormatCounts[l])+") ",1)):m("",!0)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1})):m("",!0),a(k,{value:"searchOptions"},{default:t(()=>[a(x,null,{default:t(()=>[s("div",xe,[a(h,{icon:"mdi-cog-outline",class:"panel-icon"}),e[19]||(e[19]=s("span",{class:"panel-title"},"Search Options",-1))])]),_:1}),a(S,null,{default:t(()=>[s("div",Se,[a(oe,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=l=>_.value=l),label:"AI Semantic Search",color:"primary",density:"compact","hide-details":"",class:"mb-3"},null,8,["modelValue"]),a(L,{modelValue:P.value,"onUpdate:modelValue":e[7]||(e[7]=l=>P.value=l),label:"Max Results",min:"5",max:"50",step:"5","thumb-label":"",density:"compact","hide-details":""},null,8,["modelValue"]),_.value?(i(),p("div",_e,[a(L,{modelValue:w.value,"onUpdate:modelValue":e[8]||(e[8]=l=>w.value=l),label:"Similarity Threshold",min:"0.05",max:"0.5",step:"0.05","thumb-label":"",density:"compact","hide-details":""},null,8,["modelValue"]),e[20]||(e[20]=s("div",{class:"threshold-help"},[s("small",{class:"text-caption"}," Lower values show more results, higher values show only close matches ")],-1))])):m("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}},Ae=K(De,[["__scopeId","data-v-09f1992a"]]);export{Ae as default};
