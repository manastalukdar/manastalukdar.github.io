import{_ as g,N as v,o as B,c as _,w as y,a as i,ao as x,ap as h,J as T,y as l,r as w}from"./DEWgsSyj.js";import{u as L}from"./tdVGZSft.js";import{T as C}from"./BQY1JlCk.js";const I={__name:"BlogBookmarkButton",props:{post:{type:Object,required:!0,validator:a=>a&&a["url-slug"]&&a.title},size:{type:String,default:"large",validator:a=>["x-small","small","default","large","x-large"].includes(a)},showLabel:{type:Boolean,default:!1},iconOnly:{type:Boolean,default:!0}},emits:["bookmark-added","bookmark-removed","bookmark-toggled"],setup(a,{emit:m}){const o=a,n=m,{isBookmarked:t,toggleBookmark:c,isLoaded:d}=L(),r=w(!1),k=l(()=>t(o.post)?"mdi-bookmark":"mdi-bookmark-outline"),u=l(()=>t(o.post)?"primary":"grey"),p=l(()=>t(o.post)?"Remove bookmark":"Add bookmark"),b=l(()=>d.value?t(o.post)?"Remove from bookmarks":"Add to bookmarks":"Loading..."),f=async s=>{if(s&&(s.stopPropagation(),s.preventDefault()),!(r.value||!o.post)){r.value=!0;try{const e=t(o.post);c(o.post)&&(n(e?"bookmark-removed":"bookmark-added",o.post),n("bookmark-toggled",{post:o.post,isBookmarked:!e,action:e?"removed":"added"}))}catch(e){console.error("Error toggling bookmark:",e)}finally{setTimeout(()=>{r.value=!1},150)}}};return v(()=>{}),(s,e)=>(B(),_(T,{icon:k.value,color:u.value,variant:"text",size:"large",loading:r.value,onClick:h(f,["stop","prevent"]),"aria-label":p.value,class:"bookmark-btn"},{default:y(()=>[i(C,{icon:k.value},null,8,["icon"]),i(x,{activator:"parent",location:"bottom",text:b.value},null,8,["text"])]),_:1},8,["icon","color","loading","aria-label"]))}},N=g(I,[["__scopeId","data-v-3f2bbc2e"]]);export{N as B};
