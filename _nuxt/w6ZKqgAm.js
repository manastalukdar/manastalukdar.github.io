import{T as ce}from"./BQY1JlCk.js";import{W as de}from"./C2OYZoyo.js";import{_ as ue}from"./BFHXg-rG.js";import{u as me}from"./ImagDVAb.js";import{u as pe}from"./BxKzqyYr.js";import{u as fe}from"./C8krUTC0.js";import{u as he}from"./D0EGoKIF.js";import{_ as ge,u as ve,s as ye,N as _e,Q as be,v as Ce,f as Te,g as ke,c as w,w as c,V as Se,h as we,ae as F,r as P,o as l,a as n,i as p,j as s,b as x,d as xe,k as Ae,aa as i,af as Le,q as Ee,e as f,ag as A,ah as R,t as d,ai as L,aj as E,m as Ve,ak as _,y as W}from"./DEWgsSyj.js";import"./BMXTT1Ib.js";import"./sZEEaFAO.js";import"./CmrroVmB.js";import"./B_I-syCt.js";const Me={key:0,class:"text-center pa-4"},Be={key:1,class:"text-center pa-4"},Ie={key:2},Ne={class:"testimonial-filters mb-4"},ze={class:"filter-section"},De={class:"filter-chips"},He={class:"filter-section"},je={class:"testimonials-grid"},Oe=["id"],Ue=["innerHTML"],qe={class:"testimonial-meta"},Fe={class:"testimonial-attribution"},Pe={class:"author-info"},Re={class:"author-details"},We={class:"author-name"},$e=["href"],Je={key:1},Qe={class:"author-title"},Ge={key:0,class:"testimonial-date"},Ye={key:1,class:"testimonial-relationship"},Ke={key:0,class:"testimonial-categories"},Xe={key:0,class:"no-results text-center pa-4"},$="What colleagues have said about Manas Talukdar - professional testimonials and recommendations.",Ze={__name:"testimonials",async setup(et){let V,M;const v=me(),J=pe(),B=fe(),b=we(),I=b.public.baseUrl,Q=ve(),G=ye(),{fullTestimonials:u,loading:y,error:Y,formatTestimonialContent:K,generateTestimonialId:X}=he(),m=P("all"),h=P(""),Z=W(()=>{const t=new Set;return u.value.forEach(e=>{e.category&&e.category.forEach(a=>t.add(a))}),Array.from(t).sort()}),N=W(()=>{let t=[...u.value];if(m.value!=="all"&&(t=t.filter(e=>e.category?.includes(m.value))),h.value){const e=h.value.toLowerCase();t=t.filter(a=>a.name.toLowerCase().includes(e)||a.title.toLowerCase().includes(e)||a.company.toLowerCase().includes(e)||a.content.toLowerCase().includes(e)||a.category?.some(o=>o.toLowerCase().includes(e)))}return t}),C=t=>{m.value=t},ee=t=>u.value.filter(e=>e.category?.includes(t)).length;let g=null;const T=(t=100)=>{g&&clearTimeout(g),g=setTimeout(async()=>{await te()},t)},te=async()=>{await F();const t=window.location.hash;if(console.log("[performScroll] Attempting scroll with hash:",t,"loading:",y.value,"testimonials count:",u.value.length),!t||!t.startsWith("#testimonial-")){console.log("[performScroll] No valid hash found");return}m.value="all",h.value="",await F();let e=0;const a=100,o=async()=>{if(y.value||u.value.length===0){console.log("[findAndScrollToElement] Still loading testimonials..."),e<a&&(e++,setTimeout(o,100));return}const r=document.querySelector(t);if(console.log("[findAndScrollToElement] Attempt:",e,"Element found:",!!r,"Hash:",t),r){console.log("[findAndScrollToElement] SUCCESS - Scrolling to element:",t),r.classList.add("testimonial-highlighted");const S=r.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:S,behavior:"smooth"}),setTimeout(()=>{r.classList.remove("testimonial-highlighted")},3e3);return}e<a?(e++,setTimeout(o,100)):console.log("[findAndScrollToElement] FAILED - Max attempts reached, element not found:",t)};await o()};_e(()=>{console.log("[onMounted] Initial scroll attempt"),T(200);const t=G.afterEach(e=>{console.log("[router.afterEach] Navigation completed to:",e.path,"hash:",e.hash),e.path==="/about/testimonials"&&e.hash&&e.hash.startsWith("#testimonial-")&&T(300)});be(()=>{t(),g&&clearTimeout(g)})}),Ce([()=>Q.fullPath,()=>y.value,()=>u.value.length],([t,e,a],[o,r,j])=>{console.log("[comprehensive watcher] Path:",t,"Loading:",e,"Testimonials:",a);const O=t&&t.includes("/about/testimonials#testimonial-"),S=r&&!e&&a>0,U=t!==o;if(O&&(U||S)){const q=U?400:200;console.log("[comprehensive watcher] Triggering scroll with delay:",q),T(q)}},{immediate:!0});async function oe(){try{B.blogMetadata.length<b.public.blogPostCount&&await B.setupBlogMetadata(b.public.baseUrl)}catch(t){console.log(t)}}[V,M]=Te(()=>oe()),await V,M();const se=J.appOwner,ae=v.about.aboutItems[4].text+" | "+v.about.aboutText,z=v.about.aboutItems[4].href,le=v.about.aboutItems[4].text,k=ae+" || "+se,D=I+z,H=[{title:"Home",disabled:!1,href:"/",exact:!0},{title:"About",disabled:!0,exact:!0},{title:le,disabled:!1,href:z,exact:!0}],ne={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:H.map((t,e)=>({"@type":"ListItem",position:e+1,item:{"@id":I+t.href,name:t.title}}))};ke({title:k,meta:[{hid:"description",name:"description",content:$},{hid:"apple-mobile-web-app-title",name:"apple-mobile-web-app-title",content:k},{hid:"og-title",name:"og:title",property:"og:title",content:k},{hid:"og-url",name:"og:url",property:"og:url",content:D},{hid:"og-description",name:"og:description",property:"og:description",content:$}],link:[{rel:"canonical",href:D}],__dangerouslyDisableSanitizers:["script"],script:[{innerHTML:JSON.stringify(ne),type:"application/ld+json"}]});const{paperize:ie}=de("printMe",{styles:["/styles/print-generic.css"]}),re=()=>{ie()};return(t,e)=>{const a=ce;return l(),w(Se,null,{default:c(()=>[n(p(ue),{breadcrumbs:H}),e[10]||(e[10]=s("p",null,null,-1)),n(x,null,{default:c(()=>[n(xe,{cols:"12"},{default:c(()=>[n(Ae,{color:"cardColor",class:"pa-8 testimonials-page",raised:"",elevation:"8",style:{height:"100%"},id:"printMe"},{default:c(()=>[n(x,{class:"text-h6 px-3 py-3 page-header justify-center"},{default:c(()=>[...e[2]||(e[2]=[s("h1",null,"What colleagues have said about me",-1)])]),_:1}),e[8]||(e[8]=s("p",null,null,-1)),p(y)?(l(),i("div",Me,[n(Le,{indeterminate:"",color:"primary"})])):p(Y)?(l(),i("div",Be,[n(Ee,{type:"error",variant:"text"},{default:c(()=>[...e[3]||(e[3]=[f(" Failed to load testimonials ",-1)])]),_:1})])):(l(),i("div",Ie,[s("div",Ne,[s("div",ze,[e[4]||(e[4]=s("h6",{class:"filter-title"},"Filter by Category:",-1)),s("div",De,[n(A,{class:R([{active:m.value==="all"},"ma-1 filter-chip"]),onClick:e[0]||(e[0]=o=>C("all")),size:"small",variant:"outlined"},{default:c(()=>[f(" All ("+d(p(u).length)+") ",1)]),_:1},8,["class"]),(l(!0),i(L,null,E(Z.value,o=>(l(),w(A,{key:o,class:R([{active:m.value===o},"ma-1 filter-chip"]),onClick:r=>C(o),size:"small",variant:"outlined"},{default:c(()=>[f(d(o)+" ("+d(ee(o))+") ",1)]),_:2},1032,["class","onClick"]))),128))])]),s("div",He,[e[5]||(e[5]=s("h6",{class:"filter-title"},"Search:",-1)),n(Ve,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=o=>h.value=o),placeholder:"Search testimonials...",variant:"outlined",density:"compact",class:"search-field","prepend-inner-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])])]),s("div",je,[(l(!0),i(L,null,E(N.value,o=>(l(),i("div",{key:o.name,id:p(X)(o.name),class:"testimonial-card"},[s("blockquote",{class:"testimonial-quote",innerHTML:p(K)(o.content)},null,8,Ue),s("div",qe,[s("div",Fe,[s("div",Pe,[s("div",Re,[s("strong",We,[o.linkedin?(l(),i("a",{key:0,href:o.linkedin,target:"_blank",rel:"noopener noreferrer",class:"linkedin-link"},[f(d(o.name)+" ",1),n(a,{icon:"mdi-linkedin",size:"small",class:"ml-1"})],8,$e)):(l(),i("span",Je,d(o.name),1))]),s("div",Qe,d(o.title)+d(o.company?` @ ${o.company}`:""),1),o.date?(l(),i("div",Ge,d(o.date),1)):_("",!0),o.relationship?(l(),i("div",Ye,[n(a,{icon:"mdi-account-group",size:"small",class:"mr-1"}),f(" "+d(o.relationship),1)])):_("",!0)])]),o.category?(l(),i("div",Ke,[(l(!0),i(L,null,E(o.category,r=>(l(),w(A,{key:r,size:"small",variant:"outlined",class:"ma-1",onClick:j=>C(r)},{default:c(()=>[f(d(r),1)]),_:2},1032,["onClick"]))),128))])):_("",!0)])])],8,Oe))),128))]),N.value.length===0?(l(),i("div",Xe,[n(a,{icon:"mdi-comment-search",size:"large",class:"mb-2"}),e[6]||(e[6]=s("h6",null,"No testimonials found",-1)),e[7]||(e[7]=s("p",{class:"text-body-2"},"Try adjusting your filters or search terms.",-1))])):_("",!0)])),e[9]||(e[9]=s("p",null,null,-1)),n(x,{class:"printButton row py-10 justify-center"},{default:c(()=>[n(a,{icon:"mdi-printer",class:"justify-center",onClick:re})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ft=ge(Ze,[["__scopeId","data-v-c31d514f"]]);export{ft as default};
